<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Escuela de Código - San Andrés Tetepilco</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/white.css">
		

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
		<link rel="stylesheet" href="css/basic.css">
		<link rel="stylesheet" href="css/js_sesion2.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<img src="img/logoPilares.png" />
					<p>San Andrés Tetepilco</p>
					<h2 class="edcodigo">Escuela de código</h2>
					<p>JS DOM</p>
				</section>
                <section>
                    <p><b>HTML DOM</b></p>
                    <p>Cuando se carga una p&aacute;gina, el navegador crea un 
                        <b>Document Object Model</b>, que funciona como un &aacute;rbol de Objetos.
                    </p>
                    <img src="img/web/htmltree.gif">
                </section>
                <section class="muchotexto">
                    <p>El DOM es una interfaz neutral en cuanto a plataforma y lenguaje 
                        que permite que los programas y scripts puedan acceder de forma din&aacute;mica, 
                        y actualizar el contenido, la estructura y el estilo de un documento.
                    </p>
                    <p class="left">El HTML DOM define:</p>
                    <ul class="left">
                        <li>A los elementos de HTML como objetos.</li>
                        <li>Las propiedades.</li>
                        <li>Los m&eacute;todos.</li>
                        <li>Los eventos.</li>
                    </ul>
                </section>
                <section class="muchotexto">
                    <ul>
                        <li>Los m&eacute;todos del HTML DOM son <b>acciones</b> que podemos ejecutar.</li>
                        <li>Las propiedades del HTML DOM son <b>valores</b> que podemos obtener o modificar.</li>
                    </ul>
                    <p>Las propiedades y m&eacute;todos son la interface de programaci&oacute;n para acceder
                        al HTML DOM usando  JavaScript.
                    </p>
                    <pre><code class="language-xml hljs" data-trim data-line-numbers>
                        &#60;html&#62;
                          &#60;body&#62;
                            &#60;p id="demo"&#62;&#60;/p&#62;
                            &#60;script&#62;
                            document.getElementById("demo").innerHTML = "Hola Mundo!";
                            &#60;/script&#62;
                          &#60;/body&#62;
                        &#60;/html&#62;
                    </code></pre>
                </section>
                <section class="muchotexto">
                    <p>El objeto <code>document</code> es dueño de todos los dem&aacute;s objetos. </p>
               
                    <p class="left">Encontrar elementos en el DOM.</p>
                    <ul>
                        <li><a href="https://www.w3schools.com/jsref/met_document_getelementbyid.asp" target="_blank">
                            <code>document.getElementById(id)</code></a></li>
                        <li><a href="https://www.w3schools.com/jsref/met_document_getelementsbytagname.asp" target="_blank">
                                <code>document.getElementsByTagName(name)</code></a></li>
                        <li><a href="https://www.w3schools.com/jsref/met_document_getelementsbyclassname.asp" target="_blank">
                            <code>document.getElementsByClassName(name)</code></a></li>
                        <li><a href="https://www.w3schools.com/jsref/met_document_queryselectorall.asp" target="_blank">
                                <code>document.querySelectorAll(selector)</code></a></li>
                    </ul>
                    <p class="left">Cambiar elementos de HTML</p>
                    <ul>
                        <li><a href="https://www.w3schools.com/jsref/prop_html_innerhtml.asp" target="_blank">
                            <code>element.innerHTML =</code> contenido de html</a></li>
                        <li><a href="https://www.w3schools.com/jsref/prop_attr_value.asp" target="_blank">
                            <code>element.</code>attribute = nuevo valor</a></li>
                        <li><a href="https://www.w3schools.com/jsref/prop_html_style.asp" target="_blank">
                            <code>element.style.</code>property = nuevo estilo</a></li>    
                        <li><a href="https://www.w3schools.com/jsref/met_element_setattribute.asp" target="_blank">
                            <code>element.setAttribute(attribute, value)</code></a></li>    
                    </ul>
                </section>
                <section class="muchotexto">
                    <p class="left">Añadir o quitar elementos</p>
                    <ul>
                        <li><a href="https://www.w3schools.com/jsref/met_document_createelement.asp" target="_blank">
                            <code>document.createElement(element)</code></a></li>
                        <li><a href="https://www.w3schools.com/jsref/met_node_removechild.asp" target="_blank">
                            <code>document.removeChild(element)</code></a></li>
                        <li><a href="https://www.w3schools.com/jsref/met_node_appendchild.asp" target="_blank">
                            <code>document.appendChild(element)</code></a></li>
                        <li><a href="https://www.w3schools.com/jsref/met_node_replacechild.asp" target="_blank">
                            <code>document.replaceChild(new, old)</code></a></li>
                        <li><a href="https://www.w3schools.com/jsref/met_doc_write.asp" target="_blank">
                            <code>document.write(text)</code></a></li>
                        
                    </ul>
                    <p class="left">Agregar manejadores de eventos</p>
                    <ul>
                        <li><a href="https://www.w3schools.com/jsref/event_onclick.asp" target="_blank">
                            <code>document.getElementById(id).onclick = function(){code}</code></a></li>
                    </ul>
                </section>
                <section>
                    <p><b>Animaciones sencillas</b></p>
                    <p class="left"><button onclick="moverCuadrito()">Mueve el cuadrito</button></p>
                    <div id ="contenedor">
                        <div id ="cuadrito"></div>
                    </div>
                    <pre class="jscuadro"><code class="language-javascript hljs" data-trim data-line-numbers>
                        let idIntervalo = null;
                        function moverCuadrito() {
                            var elem = document.getElementById("cuadrito");   
                            var pos = 0;
                            clearInterval(idIntervalo);
                            idIntervalo = setInterval(frame, 5);
                            function frame() {
                                if (pos == 350) {
                                clearInterval(idIntervalo);
                                } else {
                                pos++; 
                                elem.style.top = pos + "px"; 
                                elem.style.left = pos + "px"; 
                                }
                            }
                        }
                        </code></pre>
                </section>
                <section class="muchotexto">
                    <p><b>Eventos</b></p>
                    <p>Podemos ejecutar c&oacute;digo de JavaScript cuando un evento ocurre.</p>
                    <h1 onclick="cambiarTexto(this)">Haz click en este texto.</h1>
                    <pre><code class="language-javascript hljs" data-trim data-line-numbers>
                        let cambio = true;
                        function cambiarTexto(id) {
                            if(cambio) {
                                id.innerHTML = "Hola!";
                                cambio = false;
                            } else {
                                id.innerHTML = "Haz click en este texto.";
                                cambio = true;
                            } 
                        }
                    </code></pre>
                    <p>Tambi&eacute;n podemos asignar la fucni&oacute;n con JS.</p>
                    <pre><code class="language-javascript hljs" data-trim data-line-numbers>
                        document.getElementById("encabezado").onclick = cambiarTexto;
                    </code></pre>
                </section>
                <section class="muchotexto">
                    <p>Los eventos de <code>onload</code> o <code>onunload</code> se 
                    disparan cuanod el usuario entra o sale de la p&aacute;gina. Usualmente
                se utilizan para obtener informaci&oacute;n de la versi&oacute;n del navegador o las cookies. </p>
                <pre><code class="language-javascript hljs" data-trim data-line-numbers>
                    &#60;body onload="checkNavegador()" &#62;
                    &#60;script&#62;
                        function checkNavegador() {
                            console.log("El nombre del navegador es: " + navigator.appName;)
                        }
                    &#60;/script&#62;
                </code></pre>
                <p>Otros eventos: <code>onchange</code>, <code>onmouseover</code>, 
                    <code>onmouseout</code>. La lista completa de eventos: 
                <a href="https://www.w3schools.com/jsref/dom_obj_event.asp" target="_blank">Eventos del DOM</a></p>
                </section>
                <section>
                    <p>Tambi&eacute;n pueden añadirse manejadores de eventos utilizando JS. </p>
                    <pre><code class="language-javascript hljs" data-trim data-line-numbers>
                        element.addEventListener(event, function, useCapture);
                    </code></pre>
                    <p>No se sobreescriben y se pueden añadir
                         m&aacute;s manejadores 
                         <a href="https://www.w3schools.com/js/tryit.asp?filename=tryjs_addeventlistener_add_many" target="_blank">a los mismos</a> 
                         o a <a href="https://www.w3schools.com/js/tryit.asp?filename=tryjs_addeventlistener_add_many2" target="_blank">diferentes eventos.</a></p>
                    <p>El primer par&aacute;metro es el evento, sin <code>on</code>, 
                    el segundo es la funci&oacute;n manejadora del evento, el tercero indica 
                    c&oacute;mo se va a propagar el evento.</p>
                </section>
                <section class="muchotexto">
                    <p><b>Propagaci&oacute;n de eventos</b></p>
                    <p>Hay dos formas para definir el orden en que los eventos en m&uacute;ltiples
                        elementos ocurren:
                    </p>
                    <ul>
                        <li>Bubbling: del elemento de m&aacute;s adentro al de afuera. Default: <code>false</code></li>
                        <li>Capturing: del elemento de afuera hacia adentro.</li>
                    </ul>
                </section>
                <section>
                    <p><b>Bubbling</b></p>
                    <form class="evt" onclick="formFn()">FORM
                        <div class="evt" onclick="divFn()">DIV
                          <p  class="evt" onclick="pFn(event)">P</p>
                        </div>
                      </form>
                      <pre><code class="language-javascript hljs" data-trim data-line-numbers>
                        function formFn() {
                            alert('form');
                        }

                        function divFn() {
                            alert('div');
                        }  

                        function pFn(e) {
                            alert('p');
                            e.stopPropagation();
                        }   
                    </code></pre>
                </section>
                <section>
                    <p><b>Capturing</b></p>
                    <form class="evt" id="formcap">FORM
                        <div class="evt">DIV
                          <p class="evt" id="pcap">P</p>
                        </div>
                    </form>
                    <pre><code class="language-javascript hljs" data-trim data-line-numbers>
                        document.getElementById("formcap").addEventListener("click", function(e){
                             alert("click sobre form");
                        }, true);
                          
                        document.getElementById("pcap").addEventListener("click", function(e){
                             alert("click sobre p");
                        }, false);
                    </code></pre>
                </section>
                <section class="muchotexto">
                    <p><b>Nodos del DOM</b></p>
                    <p>De acuerdo al est&aacute;ndard de W3C HTML DOM, todo en un 
                        documento de HTML es un nodo del DOM:
                    </p>
                    <ul>
                        <li>El documento entero.</li>
                        <li>Los elementos de HTML.</li>
                        <li>El texto dentro de los documentos <code>createTextNode</code>.</li>
                        <li>Los comentarios de HTML.</li>
                    </ul>
                    <p>Podemos acceder a esos nodos utilizando JavaScript y podemos 
                        crear nuevos o modificar o eliminar todos los existentes.
                    </p>
                </section>
                <section>
                    <p><b>Relaciones entre nodos</b></p>
                    <p>Los nodos en la estructura de &aacute;rbol generan relaciones
                         jer&aacute;quicas. </p>
                        <img width="500px" src="img/web/pic_navigate.gif">
                </section>
                <section>
                    <p class="left">¿Qu&eacute; estructura se forma con el siguiente c&oacute;digo?</p>
                    <pre><code class="language-xml hljs" data-trim data-line-numbers>          
                        &#60;html&#62;
                            &#60;head&#62;
                                &#60;title id="demo">Escuela de c&oacute;digo&#60;/title&#62;
                            &#60;/head&#62;
                            &#60;body&#62;
                                &#60;h1&#62;HTML DOM&#60;/h1&#62;
                                &#60;p&#62;Hola mundo!&#60;/p&#62;
                            &#60;/body&#62;
                        &#60;/html&#62;
                    </code></pre>
                </section>
                <section>
                    <p>Podemos utilizar las siguientes propiedades de los nodos para navegar
                        entre los nodos del &aacute;rbol:
                    </p>
                    <ul>
                        <li><code>parentNode</code></li>
                        <li><code>childNodes[nodenumber]</code></li>
                        <li><code>firstChild</code></li>
                        <li><code>lastChild</code></li>
                        <li><code>nextSibling</code></li>
                        <li><code>previousSibling</code></li>
                    </ul>
                </section>
                <section class="muchotexto">
                    <p>El nodo de <code>title</code> no contiene texto adentro, sino que tiene un 
                    nodo hijo con el valor: <i>Escuela de c&oacute;digo</i></p>
                    <p>Podemos obtener ese valor de diferentes maneras: </p>
                    <pre><code class="language-javascript hljs" data-trim data-line-numbers>          
                        let titulo1 = document.getElementById("demo").innerHTML;
                        let titulo2 = document.getElementById("demo").firstChild.nodeValue;
                        let titulo2 = document.getElementById("demo").childNodes[0].nodeValue;
                    </code></pre>
                </section>
                <section class="muchotexto">
                    <p class="left"><b>Elemento ra&iacute;z:</b> Dos maneras de acceder al elemento ra&iacute;z</p>
                    <pre><code class="language-javascript hljs" data-trim data-line-numbers>          
                        document.body
                        document.documentElement
                    </code></pre>
                    <p class="left"><b>nodeName.</b> Solo lectura, es la misma que la etiqueta, #text si es texto 
                    y #document si es el document y el nombre del atributo si es de atributo.</p>
                    <pre><code class="language-javascript hljs" data-trim data-line-numbers>          
                        document.getElementById("demo").nodeName;
                    </code></pre>
                    <p class="left"><b>nodeValue.</b> Para las etiquetas de HTML es <code>null</code>,
                        para las de texto es el valor del texto en s&iacute; y en atributos, el valor de los atributos .</p>
                        <pre><code class="language-javascript hljs" data-trim data-line-numbers>          
                            document.getElementById("demo").nodeName;
                    </code></pre>
                </section>
                <section>
                    <p><b>HTMLCollection</b></p>
                    <p>M&eacute;todos como <code>getElementsByTagName()</code> regresan un objeto 
                    de tipo <code>HTMLCollection</code>, que es similar a un arreglo de JavaScript.</p>
                    <pre><code class="language-javascript hljs" data-trim data-line-numbers>          
                        let parrafos = document.getElementsByTagName("p");
                        let segundo_parrafo = parrafos[1];
                        for (let i = 0; i < parrafos.length; i++) {
                            parrafos[i].style.color = "red";
                        }
                    </code></pre>
                    <p>Sin embargo no podemos utilizar m&eacute;todos de arreglos de JS como <code>pop()</code>, 
                        <code>push()</code>, <code>join()</code>, etc.</p>
                </section>
                <section>
                    <p><b>HTML DOM Node Lists</b></p>
                    <p>Es una colecci&oacute;n similar a <code>HTMLCollection</code>, que se obtiene 
                    cuando llamamos a element.<code>childNodes</code> o a <code>querySelectorAll()</code></p>
                    <p>Sin embargo, solo podemos acceder a los elementos utilizando el index y no los nombresquerySelectorAll
                         de los elementos.</p>
                </section>
			</div>
		</div>
        <script src="js/js_sesion2.js"></script>
		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
